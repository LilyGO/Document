

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Eclipse IDE 的创建和烧录指南 &mdash; T-Watch 编程文档 1.0 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="toolchain-setup-scratch.html" />
    <link rel="prev" title="通过 make 指令创建和烧录项目" href="make-project.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> T-Watch 编程文档
          

          
            
            <img src="../_static/k.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">1.简介</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2.快速上手</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#id2">概述</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id3">特色</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id4">准备工作</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id5">开发板简介</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-step-by-step">详细安装步骤</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-setup-toolchain">第一步：设置工具链</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#esp-idf">第二步：获取 ESP-IDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-setup-path">第三步：设置环境变量</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#python">第四步：安装 Python 软件包</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-start-project">第五步：开始创建工程</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-connect">第六步：连接设备</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-configure">第七步：配置</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-build-and-flash">第八步：编译和烧录</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#get-started-monitor">第九步：监视器</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id30">环境变量</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#id31">更新 ESP-IDF</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#id32">相关文档</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="add-idf_path-to-profile.html">在用户配置文件中添加 IDF_PATH</a></li>
<li class="toctree-l3"><a class="reference internal" href="establish-serial-connection.html">与 ESP32 创建串口连接</a></li>
<li class="toctree-l3"><a class="reference internal" href="make-project.html">通过 make 指令创建和烧录项目</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Eclipse IDE 的创建和烧录指南</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#eclipse-install-steps">安装 Eclipse IDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">配置 Eclipse IDE</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../basics/index.html">3.入门使用篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">4.进阶开发篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../download/index.html">5.下载资源</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related-links/index.html">6.相关链接</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">T-Watch 编程文档</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">快速入门</a> &raquo;</li>
        
      <li>Eclipse IDE 的创建和烧录指南</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/get-started/eclipse-setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="eclipse-ide">
<h1>Eclipse IDE 的创建和烧录指南<a class="headerlink" href="#eclipse-ide" title="永久链接至标题">¶</a></h1>
<p><a href="#id1"><span class="problematic" id="id2">:link_to_translation:`en:[English]`</span></a></p>
<div class="section" id="eclipse-install-steps">
<span id="id3"></span><h2>安装 Eclipse IDE<a class="headerlink" href="#eclipse-install-steps" title="永久链接至标题">¶</a></h2>
<p>Eclipse IDE 是一个可视化的集成开发环境，可用于编写、编译和调试 ESP-IDF 项目。</p>
<ul class="simple">
<li><p>首先，请在您的平台上安装相应的 ESP-IDF，具体步骤请参考适用于 Windows、OS X 和 Linux 的相应安装步骤。</p></li>
<li><p>我们建议，您应首先使用命令行创建一个项目，大致熟悉项目的创建流程。此外，您还需要使用命令行 (<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code>) 对您的 ESP-IDF 项目进行配置。目前，Eclipse 尚不支持对 ESP-IDF 项目进行配置。</p></li>
<li><p>下载相应版本的 Eclipse Installer 至您的平台，点击 <a class="reference external" href="https://www.eclipse.org/">eclipse.org</a>。</p></li>
<li><p>运行 Eclipse Installer，选择 “Eclipse for C/C++ Development”（有的版本也可能显示为 CDT）。</p></li>
</ul>
</div>
<div class="section" id="id4">
<h2>配置 Eclipse IDE<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>请打开安装好的 Eclipse IDE，并按照以下步骤进行操作：</p>
<div class="section" id="id5">
<h3>导入新项目<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p>Eclipse IDE 需使用 ESP-IDF 的 Makefile 功能。因此，在使用 Eclipse 前，您需要先创建一个 ESP-IDF 项目。在创建 ESP-IDF 项目时，您可以使用 GitHub 中的 idf-template 项目模版，或从 esp-idf 子目录中选择一个 example。</p></li>
<li><p>运行 Eclipse，选择 “File” -&gt; “Import…”。</p></li>
<li><p>在弹出的对话框中选择 “C/C++” -&gt; “Existing Code as Makefile Project”，然后点击 “Next”。</p></li>
<li><p>在下个界面中 “Existing Code Location” 位置输入您的 IDF 项目的路径。注意，这里应输入 ESP-IDF 项目的路径，而非 ESP-IDF 本身的路径（这个稍后再填）。此外，您指定的目标路径中应包含名为 <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> （项目 Makefile）的文件。</p></li>
<li><p>在本界面，找到 “Toolchain for Indexer Settings”，选择 “Cross GCC”，最后点击 “Finish”。</p></li>
</ul>
</div>
<div class="section" id="id6">
<h3>项目属性<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
<ul>
<li><p>新项目将出现在 “Project Explorer” 下。请右键选择该项目，并在菜单中选择 “Properties”。</p></li>
<li><p>点击 “C/C++ Build” 下的 “Environment” 属性页，选择 “Add…”，并在对应位置输入 <code class="docutils literal notranslate"><span class="pre">BATCH_BUILD</span></code> 和 <code class="docutils literal notranslate"><span class="pre">1</span></code>。</p></li>
<li><p>再次点击 “Add…”，并在 “IDF_PATH” 中输入 ESP-IDF 所在的完整安装路径。</p></li>
<li><p>选择 “PATH” 环境变量，不要改变默认值。如果 Xtensa 工具链的路径尚不在 “PATH” 列表中，则应将该路径 (<code class="docutils literal notranslate"><span class="pre">something/xtensa-esp32-elf/bin</span></code>) 增加至列表，工具链的典型路径类似于 <code class="docutils literal notranslate"><span class="pre">/home/user-name/esp/xtensa-esp32-elf/bin</span></code>。请注意您需要在附加路径前添加冒号 <code class="docutils literal notranslate"><span class="pre">:</span></code>。Windows 用户需要将 <code class="docutils literal notranslate"><span class="pre">C:\msys32\mingw32\bin;C:\msys32\opt\xtensa-esp32-elf\bin;C:\msys32\usr\bin</span></code> 添加到 <code class="docutils literal notranslate"><span class="pre">PATH</span></code> 环境变量的靠前位置（如果您将 msys32 安装到了其它目录，则需要更改对应的路径以匹配您的本地环境）。</p></li>
<li><p>在 macOS 平台上，增加一个 “PYTHONPATH” 环境变量，并将其设置为 <code class="docutils literal notranslate"><span class="pre">/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages</span></code>， 保证系统中预先安装的 Python （需安装 pyserial 模块）可以覆盖 Eclipse 内置的任何 Python。</p></li>
<li><p>前往 “C/C++ General” -&gt; “Preprocessor Include Paths” 属性页面。</p>
<blockquote>
<div><ul>
<li><p>点击 “Providers” 选项卡。</p>
<blockquote>
<div><ul class="simple">
<li><p>从 “Providers” 列表中选择 “CDT Cross GCC Built-in Compiler Settings”，将 “Command to get compiler specs” 修改为 <code class="docutils literal notranslate"><span class="pre">xtensa-esp32-elf-gcc</span> <span class="pre">${FLAGS}</span> <span class="pre">-std=c++11</span> <span class="pre">-E</span> <span class="pre">-P</span> <span class="pre">-v</span> <span class="pre">-dD</span> <span class="pre">&quot;${INPUTS}&quot;</span></code></p></li>
<li><p>从 “Providers” 列表中选择 “CDT GCC Build Output Parser”，将 “Compiler command pattern” 修改为 <code class="docutils literal notranslate"><span class="pre">xtensa-esp32-elf-(gcc|g\+\+|c\+\+|cc|cpp|clang)</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</li>
<li><p>前往 “C/C++ General” -&gt; “Indexer” 属性页面。</p>
<blockquote>
<div><ul class="simple">
<li><p>去除 “Allow heuristic resolution of includes” 勾选。启用此选项时，Eclipse 有时无法找到正确的头文件目录。</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>点击 “C/C++ General” -&gt; “Indexer” 属性页。</p>
<blockquote>
<div><ul class="simple">
<li><p>选择 “Enable project specific settings” 以启用本页上的其他设置。</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>取消选中 “Allow heuristic resolution of includes”。因为启用此选项时，有时会导致 Eclipse 无法找到正确的头文件目录。</p>
</div>
<p>点击 “C/C++ Build” -&gt; “Behavior” 属性页。</p>
<ul class="simple">
<li><p>选中 “Enable parallel build” 以启用多任务并行构建。</p></li>
</ul>
</div>
<div class="section" id="eclipse-build-project">
<span id="id7"></span><h3>在 Eclipse IDE 中创建项目<a class="headerlink" href="#eclipse-build-project" title="永久链接至标题">¶</a></h3>
<p>在首次创建项目前，Eclipse IDE 可能会显示大量有关未定义值的错误和警告，主要原因在于项目编译过程中所需的一些源文件是在 ESP-IDF 项目创建过程中自动生成的。因此，这些错误和警告将在 ESP-IDF 项目生成完成后消失。</p>
<ul class="simple">
<li><p>点击 “OK”，关闭 Eclipse IDE 中的 “Properties” 对话框。</p></li>
<li><p>在 Eclipse IDE 界面外，打开命令管理器。进入项目目录，并通过 <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> 命令对您的 ESP-IDF 项目进行配置。现阶段，您还无法在 Eclipse 中完成本操作。</p></li>
</ul>
<p><em>如果您未进行最开始的配置步骤，ESP-IDF 将提示在命令行中进行配置 - 但由于 Eclipse 暂时不支持相关功能，因此该项目将挂起或创建失败。</em></p>
<ul class="simple">
<li><p>返回 Eclipse IDE 界面中，选择 “Project” -&gt; “Build” 创建您的项目。</p></li>
</ul>
<p><strong>提示</strong>：如果您已经在 Eclipse IDE 环境外创建了项目，则可能需要选择 “Project” -&gt; “Clean before choosing Project” -&gt; “Build”，允许 Eclipse 查看所有源文件的编译器参数，并借此确定头文件包含路径。</p>
</div>
<div class="section" id="id8">
<h3>在 Eclipse IDE 中烧录项目<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<p>您可以将 <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">flash</span></code> 目标放在 Eclipse 项目中，通过 Eclipse UI 调用 <code class="docutils literal notranslate"><span class="pre">esptool.py</span></code> 进行烧录：</p>
<ul class="simple">
<li><p>打开 “Project Explorer”，并右击您的项目（请注意右击项目本身，而非项目下的子文件，否则 Eclipse 可能会找到错误的 <code class="docutils literal notranslate"><span class="pre">Makefile</span></code>）。</p></li>
<li><p>从菜单中选择 “Build Targets” -&gt; “Create”。</p></li>
<li><p>输入 “flash” 为目标名称，其他选项使用默认值。</p></li>
<li><p>选择 “Project” -&gt; “Build Target” -&gt; “Build (快捷键：Shift + F9）”，创建自定义烧录目标，用于编译、烧录项目。</p></li>
</ul>
<p>注意，您将需要通过 <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code>，设置串行端口和其他烧录选项。<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> 仍需通过命令行操作（请见平台的对应指南）。</p>
<p>如有需要，请按照相同步骤添加 <code class="docutils literal notranslate"><span class="pre">bootloader</span></code> 和 <code class="docutils literal notranslate"><span class="pre">partition_table</span></code>。</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="toolchain-setup-scratch.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="make-project.html" class="btn btn-neutral float-left" title="通过 make 指令创建和烧录项目" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, LilyGo

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>